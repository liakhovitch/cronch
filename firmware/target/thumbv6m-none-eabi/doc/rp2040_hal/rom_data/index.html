<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Functions and data from the RPI Bootrom."><meta name="keywords" content="rust, rustlang, rust-lang, rom_data"><title>rp2040_hal::rom_data - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../rp2040_hal/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../rp2040_hal/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module rom_data</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../rp2040_hal/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">rp2040_hal</a>::<wbr><a class="mod" href="#">rom_data</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/rp2040_hal/rom_data.rs.html#1-733">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Functions and data from the RPI Bootrom.</p>
<p>From the <a href="https://datasheets.raspberrypi.org/rp2040/rp2040-datasheet.pdf">RP2040 datasheet</a>, Section 2.8.2.1:</p>
<blockquote>
<p>The Bootrom contains a number of public functions that provide useful
RP2040 functionality that might be needed in the absence of any other code
on the device, as well as highly optimized versions of certain key
functionality that would otherwise have to take up space in most user
binaries.</p>
</blockquote>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="clz32/index.html" title="rp2040_hal::rom_data::clz32 mod">clz32</a></div><div class="item-right docblock-short"><p>Additional access for the <code>clz32</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="connect_internal_flash/index.html" title="rp2040_hal::rom_data::connect_internal_flash mod">connect_internal_flash</a></div><div class="item-right docblock-short"><p>Additional access for the <code>connect_internal_flash</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="ctz32/index.html" title="rp2040_hal::rom_data::ctz32 mod">ctz32</a></div><div class="item-right docblock-short"><p>Additional access for the <code>ctz32</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="double_funcs/index.html" title="rp2040_hal::rom_data::double_funcs mod">double_funcs</a></div><div class="item-right docblock-short"><p>Functions using double-precision arithmetic (i.e. ‘f64’ in Rust terms)</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="flash_enter_cmd_xip/index.html" title="rp2040_hal::rom_data::flash_enter_cmd_xip mod">flash_enter_cmd_xip</a></div><div class="item-right docblock-short"><p>Additional access for the <code>flash_enter_cmd_xip</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="flash_exit_xip/index.html" title="rp2040_hal::rom_data::flash_exit_xip mod">flash_exit_xip</a></div><div class="item-right docblock-short"><p>Additional access for the <code>flash_exit_xip</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="flash_flush_cache/index.html" title="rp2040_hal::rom_data::flash_flush_cache mod">flash_flush_cache</a></div><div class="item-right docblock-short"><p>Additional access for the <code>flash_flush_cache</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="flash_range_erase/index.html" title="rp2040_hal::rom_data::flash_range_erase mod">flash_range_erase</a></div><div class="item-right docblock-short"><p>Additional access for the <code>flash_range_erase</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="flash_range_program/index.html" title="rp2040_hal::rom_data::flash_range_program mod">flash_range_program</a></div><div class="item-right docblock-short"><p>Additional access for the <code>flash_range_program</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="float_funcs/index.html" title="rp2040_hal::rom_data::float_funcs mod">float_funcs</a></div><div class="item-right docblock-short"><p>ROM functions using single-precision arithmetic (i.e. ‘f32’ in Rust terms)</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="memcpy/index.html" title="rp2040_hal::rom_data::memcpy mod">memcpy</a></div><div class="item-right docblock-short"><p>Additional access for the <code>memcpy</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="memcpy44/index.html" title="rp2040_hal::rom_data::memcpy44 mod">memcpy44</a></div><div class="item-right docblock-short"><p>Additional access for the <code>memcpy44</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="memset/index.html" title="rp2040_hal::rom_data::memset mod">memset</a></div><div class="item-right docblock-short"><p>Additional access for the <code>memset</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="memset4/index.html" title="rp2040_hal::rom_data::memset4 mod">memset4</a></div><div class="item-right docblock-short"><p>Additional access for the <code>memset4</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="popcount32/index.html" title="rp2040_hal::rom_data::popcount32 mod">popcount32</a></div><div class="item-right docblock-short"><p>Additional access for the <code>popcount32</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="reset_to_usb_boot/index.html" title="rp2040_hal::rom_data::reset_to_usb_boot mod">reset_to_usb_boot</a></div><div class="item-right docblock-short"><p>Additional access for the <code>reset_to_usb_boot</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="reverse32/index.html" title="rp2040_hal::rom_data::reverse32 mod">reverse32</a></div><div class="item-right docblock-short"><p>Additional access for the <code>reverse32</code> ROM function.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="wait_for_vector/index.html" title="rp2040_hal::rom_data::wait_for_vector mod">wait_for_vector</a></div><div class="item-right docblock-short"><p>Additional access for the <code>wait_for_vector</code> ROM function.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.clz32.html" title="rp2040_hal::rom_data::clz32 fn">clz32</a></div><div class="item-right docblock-short"><p>Return the number of consecutive high order 0 bits of value. If value is zero, returns 32.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.connect_internal_flash.html" title="rp2040_hal::rom_data::connect_internal_flash fn">connect_internal_flash</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Restore all QSPI pad controls to their default state, and connect the SSI to the QSPI pads.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.copyright_string.html" title="rp2040_hal::rom_data::copyright_string fn">copyright_string</a></div><div class="item-right docblock-short"><p>The Raspberry Pi Trading Ltd copyright string.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.ctz32.html" title="rp2040_hal::rom_data::ctz32 fn">ctz32</a></div><div class="item-right docblock-short"><p>Return the number of consecutive low order 0 bits of value. If value is zero, returns 32.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.flash_enter_cmd_xip.html" title="rp2040_hal::rom_data::flash_enter_cmd_xip fn">flash_enter_cmd_xip</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Configure the SSI to generate a standard 03h serial read command, with 24 address bits,
upon each XIP access. This is a very slow XIP configuration, but is very widely supported.
The debugger calls this function after performing a flash erase/programming operation, so
that the freshly-programmed code and data is visible to the debug host, without having to
know exactly what kind of flash device is connected.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.flash_exit_xip.html" title="rp2040_hal::rom_data::flash_exit_xip fn">flash_exit_xip</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>First set up the SSI for serial-mode operations, then issue the fixed XIP exit sequence.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.flash_flush_cache.html" title="rp2040_hal::rom_data::flash_flush_cache fn">flash_flush_cache</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Flush and enable the XIP cache. Also clears the IO forcing on QSPI CSn, so that the SSI can
drive the flashchip select as normal.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.flash_range_erase.html" title="rp2040_hal::rom_data::flash_range_erase fn">flash_range_erase</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Erase a count bytes, starting at addr (offset from start of flash). Optionally, pass a
block erase command e.g. D8h block erase, and the size of the block erased by this
command — this function will use the larger block erase where possible, for much higher
erase speed. addr must be aligned to a 4096-byte sector, and count must be a multiple of
4096 bytes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.flash_range_program.html" title="rp2040_hal::rom_data::flash_range_program fn">flash_range_program</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Program data to a range of flash addresses starting at <code>addr</code> (and
offset from the start of flash) and <code>count</code> bytes in size. The value
<code>addr</code> must be aligned to a 256-byte boundary, and <code>count</code> must be a
multiple of 256.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.fplib_end.html" title="rp2040_hal::rom_data::fplib_end fn">fplib_end</a></div><div class="item-right docblock-short"><p>The end address of the floating point library code and data.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.fplib_start.html" title="rp2040_hal::rom_data::fplib_start fn">fplib_start</a></div><div class="item-right docblock-short"><p>The start address of the floating point library code and data.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.git_revision.html" title="rp2040_hal::rom_data::git_revision fn">git_revision</a></div><div class="item-right docblock-short"><p>The 8 most significant hex digits of the Bootrom git revision.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.memcpy.html" title="rp2040_hal::rom_data::memcpy fn">memcpy</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Copies n bytes starting at src to dest and returns dest. The results are undefined if the
regions overlap.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.memcpy44.html" title="rp2040_hal::rom_data::memcpy44 fn">memcpy44</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Copies n bytes starting at src to dest and returns dest. The results are undefined if the
regions overlap.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.memset.html" title="rp2040_hal::rom_data::memset fn">memset</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Sets n bytes start at ptr to the value c and returns ptr</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.memset4.html" title="rp2040_hal::rom_data::memset4 fn">memset4</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Sets n bytes start at ptr to the value c and returns ptr.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.popcount32.html" title="rp2040_hal::rom_data::popcount32 fn">popcount32</a></div><div class="item-right docblock-short"><p>Return a count of the number of 1 bits in value.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.reset_to_usb_boot.html" title="rp2040_hal::rom_data::reset_to_usb_boot fn">reset_to_usb_boot</a></div><div class="item-right docblock-short"><p>Resets the RP2040 and uses the watchdog facility to re-start in BOOTSEL mode:</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.reverse32.html" title="rp2040_hal::rom_data::reverse32 fn">reverse32</a></div><div class="item-right docblock-short"><p>Return the bits of value in the reverse order.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.rom_version_number.html" title="rp2040_hal::rom_data::rom_version_number fn">rom_version_number</a></div><div class="item-right docblock-short"><p>The version number of the rom.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.soft_double_table.html" title="rp2040_hal::rom_data::soft_double_table fn">soft_double_table</a></div><div class="item-right docblock-short"><p>This entry is only present in the V2 bootrom. See Table 182 in the RP2040 datasheet for the contents of this table.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.soft_float_table.html" title="rp2040_hal::rom_data::soft_float_table fn">soft_float_table</a></div><div class="item-right docblock-short"><p>See Table 180 in the RP2040 datasheet for the contents of this table.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.wait_for_vector.html" title="rp2040_hal::rom_data::wait_for_vector fn">wait_for_vector</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>This is the method that is entered by core 1 on reset to wait to be launched by core 0.
There are few cases where you should call this method (resetting core 1 is much better).
This method does not return and should only ever be called on core 1.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.RomFnTableCode.html" title="rp2040_hal::rom_data::RomFnTableCode type">RomFnTableCode</a></div><div class="item-right docblock-short"><p>A bootrom function table code.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="rp2040_hal" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0" ></div></body></html>